<!DOCTYPE html><html lang="cs"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Nastaveni</title><link rel="stylesheet" href="sidebar.css">
<style>.btn-test{padding:6px 14px;border-radius:6px;font-size:12px;cursor:pointer;border:1px solid #dadce0;background:#fff;font-family:inherit;transition:all .2s;margin-top:6px}.btn-test:hover{background:#e8f0fe;border-color:#1a73e8;color:#1a73e8}.btn-test:disabled{opacity:.5}.api-test-result{font-size:11px;margin-top:4px;padding:4px 8px;border-radius:4px;word-break:break-all}.api-test-result.success{background:#e6f4ea;color:#137333}.api-test-result.error{background:#fce8e6;color:#c5221f}</style></head><body>
<div class="sidebar-header"><h1>Nastaveni v3.6.1</h1><button class="close-btn" id="closeBtn">&times;</button></div>
<div class="sidebar-content">
<div class="section"><div class="section-title">Prehled</div><div class="overview-grid"><div class="overview-stat"><div class="overview-value" id="overviewProcessed">0</div><div class="overview-label">Zpracovano</div></div><div class="overview-stat"><div class="overview-value" id="overviewRules">0</div><div class="overview-label">Pravidla</div></div><div class="overview-stat"><div class="overview-value" id="overviewAI">0</div><div class="overview-label">AI</div></div></div></div>
<div class="section"><div class="section-title">API Provider</div><div class="radio-group"><label><input type="radio" name="provider" id="providerOpenAI" value="openai"> OpenAI</label><label><input type="radio" name="provider" id="providerClaude" value="claude"> Claude</label></div>
<div class="form-group" style="margin-top:8px"><label for="openaiKey">OpenAI API Key</label><input type="password" id="openaiKey" placeholder="sk-..."><div class="form-group"><label for="openaiModel">Model</label><input type="text" id="openaiModel" value="gpt-4o-mini"></div><button class="btn-test" id="testOpenAIBtn">Otestovat OpenAI</button><div class="api-test-result" id="openaiTestResult"></div></div>
<div class="form-group"><label for="claudeKey">Claude API Key</label><input type="password" id="claudeKey" placeholder="sk-ant-..."><div class="form-group"><label for="claudeModel">Model</label><input type="text" id="claudeModel" value="claude-sonnet-4-20250514"></div><button class="btn-test" id="testClaudeBtn">Otestovat Claude</button><div class="api-test-result" id="claudeTestResult"></div></div></div>
<div class="section"><div class="section-title">Obecne</div><div class="form-group"><label for="parentLabel">Hlavni stitek</label><input type="text" id="parentLabel" value="EMAIL_SORTER"></div><div class="form-group"><label>Prah</label><div class="range-group"><input type="range" id="confidenceThreshold" min="0" max="1" step="0.05" value="0.75"><span class="range-value" id="thresholdValue">0.75</span></div></div><div class="form-group"><label for="maxEmails">Max emailu</label><input type="number" id="maxEmails" value="50" min="1" max="500"></div><div class="form-group"><label for="scanInterval">Interval (min)</label><input type="number" id="scanInterval" value="10" min="1" max="60"></div></div>
<div class="section"><div class="section-title">Filtrovani</div><div class="form-group"><label for="whitelist">Whitelist</label><textarea id="whitelist"></textarea></div><div class="form-group"><label for="blacklist">Blacklist</label><textarea id="blacklist"></textarea></div></div>
<div class="section"><div class="section-title">Pravidla</div><div id="rulesList"><div class="empty-state">Zadna pravidla</div></div><button class="btn btn-add" id="addRuleBtn" style="width:100%;margin-top:8px">+ Pridat</button></div>
<div class="btn-row"><button class="btn btn-primary" id="saveBtn">Ulozit nastaveni</button><button class="btn btn-secondary" id="processBtn">Zpracovat nyni</button></div>
<div class="btn-row" style="margin-top:8px"><button class="btn btn-secondary" id="clearTokenBtn" style="width:100%;color:#ea4335;border-color:#ea4335;font-size:12px">Vymazat OAuth token</button></div></div>
<div class="modal" id="ruleModal"><div class="modal-content"><div class="modal-header"><h2 id="modalTitle">Pravidlo</h2><button class="modal-close" id="modalClose">&times;</button></div>
<div class="form-group"><label for="ruleName">Nazev</label><input type="text" id="ruleName"></div><div class="form-group"><label for="ruleType">Typ</label><select id="ruleType"><option value="banka">Banka</option><option value="objednavka">Objednavka</option><option value="zprava">Zprava</option><option value="ostatni">Ostatni</option></select></div><div class="form-group"><label for="ruleLabel">Stitek</label><input type="text" id="ruleLabel"></div><div class="form-group"><label for="ruleSenders">Odesilatele</label><input type="text" id="ruleSenders"></div><div class="form-group"><label for="ruleSubjectKeys">Predmet</label><textarea id="ruleSubjectKeys"></textarea></div><div class="form-group"><label for="ruleBodyKeys">Telo</label><textarea id="ruleBodyKeys"></textarea></div>
<div class="form-group"><label><input type="checkbox" id="ruleStar"> Hvezdicka</label></div><div class="form-group"><label><input type="checkbox" id="rulePriority"> Dulezite</label></div><div class="form-group"><label><input type="checkbox" id="ruleForwardEmail"> Preposlat</label></div><div id="forwardGroup" style="display:none"><div class="form-group"><label for="ruleForwardTo">Na</label><input type="text" id="ruleForwardTo"></div></div><div class="form-group"><label><input type="checkbox" id="ruleCalendar"> Kalendar</label></div><div id="calendarGroup" style="display:none"><div class="form-group"><label for="ruleCalendarTitle">Udalost</label><input type="text" id="ruleCalendarTitle"></div><div class="form-group"><label for="ruleCalendarDays">Dnu</label><input type="number" id="ruleCalendarDays" value="0" min="0"></div></div>
<div class="modal-footer"><button class="btn btn-secondary" id="modalCancel">Zrusit</button><button class="btn btn-primary" id="modalSave">Ulozit</button></div></div></div>
<div class="toast" id="toast"></div>
<script src="sidebar.js"></script></body></html>
